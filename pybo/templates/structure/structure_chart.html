<head>
    <title>Structur Chart</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
</head>
{% extends 'base.html' %}
{% block content %}
    <h1>Structure Chart</h1>
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-title">
                <h4>Structure Chart </h4>
              </div>
              <form class="form-horizontal" action="/structure/chart" method="post">

                    <hr>
                    <div class="row">
                        <div class="input-group mb-3">
                            <span class="input-group-text">시작</span>
                            <input type="datetime-local" name="start" value="2023-04-30 22:00:00" min="2023-04-01 00:00:00" max="2023-04-30 23:59:00" class="form-control productContractDate">
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">끝</span>
                            <input type="datetime-local" name="end" value="2023-04-30 23:59:00" min="2023-04-01 00:00:00" max="2023-04-30 23:59:00" class="form-control productContractDate">
                        </div>

                    </div>
                  <div class="my-4">
                    <div class="float-end">
                        <button type="submit" class="btn btn-primary submitBtn">Submit</button>
                        <button type="reset" class="btn btn-secondary">Reset</button>
                    </div>
                  </div>
              </form>
                <canvas id="canvas"></canvas>

            </div>
          </div>
        </div>

    <script>

    new Chart(document.getElementById("canvas"), {
        type: 'line',
        data: {
            labels: {{ xlabels | tojson }} ,
            datasets: [
                {
                label: '{{ label1 }}',
                data: {{ dataset1 | tojson }},
                borderColor: "#F62211",
                fill: false,
                lineTension: 0
                },
                {
                label: '{{ label2 }}',
                data: {{ dataset2 | tojson }},
                borderColor: "#F6AD11",
                fill: false,
                lineTension: 0
                },
                {
                label: '{{ label3 }}',
                data: {{ dataset3 | tojson }},
                borderColor: "#D7F611",
                fill: false,
                lineTension: 0
                },
                {
                label: '{{ label4 }}',
                data: {{ dataset4 | tojson }},
                borderColor: "#11F656",
                fill: false,
                lineTension: 0
                },
                {
                label: '{{ label5 }}',
                data: {{ dataset5 | tojson }},
                borderColor: "#1EE3F1",
                fill: false,
                lineTension: 0
                },
                {
                label: '{{ label6 }}',
                data: {{ dataset6 | tojson }},
                borderColor: "#0324F4",
                fill: false,
                lineTension: 0
                }

            ]
        },
        options: {
            responsive: true,
            title: {
                display: true,
                text: '기울기 변화'
            },
            tooltips: {
                mode: 'index',
                intersect: false,
            },
            hover: {
                mode: 'nearest',
                intersect: true
            },
            scales: {
                xAxes: [{
                    display: true,
                    scaleLabel: {
                        display: true,
                    }
                }],
                yAxes: [{
                    display: true,
                    ticks: {
                    },
                    scaleLabel: {
                        display: true,
                    }
                }]
            }
        }
    });

    </script>


{% endblock %}


